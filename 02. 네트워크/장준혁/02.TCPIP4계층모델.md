## 2. TCP/IP 4계층 모델

### 계층 구조

TCP/IP 모델은 애플리케이션 계층, 전송 계층, 인터넷 계층, 링크 계층으로 이루어져 있다.
OSI 7계층은 애플리케이션 계층, 프레젠테이션 계층, 세션 계층, 전송 계층, 네트워크 계층, 데이터 링크 계층, 물리 계층으로 이루어져 있다.

- 애플리케이션 계층 : FTP, HTTP, SSH, SMTP, DNS 등 응용 프로그램이 사용되는 프로토콜 계층이며 웹 서비스, 이메일 등 서비스를 실질적으로 사람들에게 제공하는 층이다.
- 전송 계층 : 대표적으로 TCP, UDP가 있으며 송신자와 수신자를 연결하는 통신 서비스를 제공하며 연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어를 제공하며 애플리케이션과 인터넷 계층 사이 데이터가 전달될 때 중계 역할을 한다. TCP는 패킷 사이의 순서를 보장하고 연결지향 프로토콜을 사용하여 신뢰성을 구축해 수신 여부를 확인하며 가상회선 패킷 교환 방식을 사용한다. UDP는 순서를 보장하지 않고 수신 여부를 확인하지 않으며 단순히 데이터만 주는 데이터그램 패킷 교환방식을 사용한다. TCP는 신뢰성을 확보할 때 3웨이 핸드셰이크라는 작업을 진행한다. SYN단계, SYN+ACK단계, ACK단계로 진행되며 신뢰성이 구축되고 데이터 전송을 시작한다. 연결을 해제할때는 4웨이 핸드셰이크 과정을 진행한다.
- 인터넷 계층 : 장치로부터 받은 네트워크 패킷을 IP 주소로 지정된 목적지로 전송하기 위해 사용되는 계층이다. IP, ARP, ICMP 등이 있으며 패킷을 수신해야 할 상대의 주소를 지정하여 데이터를 전달한다. 비연결형적인 특징을 가지고있다.
- 링크 계층 : 전선, 광섬유, 무선 등 실질적으로 데이터를 전달하며 장치 간에 신호를 주고받는 규칙을 정하는 계층이다. 유선 LAN은 양쪽 장치가 동시에 송수신할 수 있는 전이중화 통신을 사용한다. 케이블은 트위스트 페어 케이블과 광섬유 케이블을 대표적으로 사용한다. 무선 LAN은 수신과 송신에 같은 채널을 사용하기 때문에 한 번에 한 방향만 통신할 수 있는 반이중화 통신을 사용한다.

HTTP를 통해 웹 서버에 있는 데이터를 요청한다면 애플리케이션 - 전송 - 인터넷 - 링크 계층으로 캡슐화 과정을 통해 요청이 전달되고 링크 - 인터넷 - 전송 - 애플리에키션 계층으로 비캡슐화 과정을 거쳐 데이터가 전송된다.

### PDU

네트워크의 어떤 계층에서 계층으로 데이터가 전달될 때 한 덩어리의 단위를 PDU(Protocol Data Unit)라고 한다. PDU는 제어 관련 정보들이 포함된 헤더와 데이터를 의미하는 페이로드로 구성되어있다.
